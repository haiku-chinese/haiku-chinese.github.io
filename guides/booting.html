<!doctype html>
<html lang=en>

<head>
    <meta charset=utf-8>
    <meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
    <meta name=viewport content="width=device-width,initial-scale=1">
    <meta name=keywords content="booting,grub,disk server">
    <meta name=copyright content="2001-2021 Haiku Inc.">
    <meta property="og:site_name" content="Haiku Project">
    <meta property="og:title" content="Booting Haiku">
    <meta property="og:url" content="https://www.haiku-os.org/guides/booting/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://www.haiku-os.org/images/haiku_600x315.png">
    <title>Booting Haiku | Haiku Project</title>
    <link rel=canonical href=https://www.haiku-os.org/guides/booting/>
    <link rel="shortcut icon" href=https://www.haiku-os.org/favicon.ico>
    <link href=https://www.haiku-os.org/css/bootstrap.min.css rel=stylesheet>
    <link href=https://www.haiku-os.org/css/bootstrap4_fixes.css rel=stylesheet>
    <link href=https://www.haiku-os.org/css/shijin4.css rel=stylesheet>
</head>

<body>
    <div id=page><a href=../../><img src=../../images/haiku_logo_white.svg alt=Home id=logo height=100 style=padding-left:3px></a>
        <div id=top-links><a href=../../get-haiku title="Get Haiku!" class=toggleopacity><img src=../../images/download_32.png text="get haiku!" alt=Download></a>
            <a href=../../contact title="Contact the Haiku Project" class=toggleopacity><img src=../../images/App_Mail_32.png text="contact the haiku project" alt=Contact></a>
            <a href=../../community/donating_to_haiku title="Make a donation to the Haiku Project" class=toggleopacity><img src=../../images/App_Finance_32.png alt=Donate text="make a donation to the haiku project"></a>
            <a href=https://dev.haiku-os.org title="Report bugs" class=toggleopacity><img src=../../images/bug_tracker_32.png alt="Report Bugs" text="report bugs related to haiku"></a>
            <a href=https://depot.haiku-os.org title="Download apps for Haiku from HaikuDepot" class=toggleopacity><img src=../../images/installer_32.png alt=HaikuDepot text="download apps for haiku from haikudepot"></a></div>
        <nav class="navbar navbar-expand-sm navbar-light bg-light"><button class="navbar-toggler collapsed" id=navbar-toggler type=button data-toggle=collapse data-target=#navbar-collapseme aria-controls=navbar-collapseme aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button>
            <div class="collapse navbar-collapse" id=navbar-collapseme>
                <ul class="navbar-nav mr-auto">
                    <li class=nav-item><a class=nav-link href=../../about/>About</a>
                    </li>
                    <li class=nav-item><a class=nav-link href=../../community/>Community</a>
                    </li>
                    <li class=nav-item><a class=nav-link href=../../development/>Development</a>
                    </li>
                    <li class=nav-item><a class=nav-link href=../../documents/>Documents</a>
                    </li>
                </ul>
                <form class=form-inline role=search action=https://duckduckgo.com><input type=hidden name=sites value=https://www.haiku-os.org>
                    <div class=input-group><input type=text class=form-control placeholder=Search name=q>
                        <span class=input-group-append><button type=submit class="btn btn-outline-secondary">&#x1f50d;</button></span></div>
                </form>
            </div>
        </nav>
        <div class=row id=main-front>
            <div class=col-sm-12>
                <ol class=breadcrumb>
                    <li class=breadcrumb-item><a href=../../>Home</a>
                    </li>
                    <li class=breadcrumb-item><a href=https://www.haiku-os.org/guides/>Haiku Guides</a>
                    </li>
                    <li class=breadcrumb-item><a href=https://www.haiku-os.org/guides/booting/>Booting Haiku</a>
                    </li>
                </ol>
            </div>
            <div class=col-md-12>
                <div class=node>
                    <h1 class=title>Booting Haiku</h1>
                    <div class=meta>
                        <div class=terms><a href=../../tags/booting rel=tag>booting</a>,
                            <a href=../../tags/grub rel=tag>grub</a>,
                            <a href=../../tags/disk-server rel=tag>disk server</a></div>
                    </div>
                    <p>
                        <p>There are a wide range of options and configurations available to boot Haiku, from from modifying the boot sector, to configuring (and possibly installing) a boot manager. For an overview of the various booting options available
                            to Haiku, please check out <a href=../../docs/userguide/en/bootloader.html>this page of the Haiku User Guide</a></p>
                        <h2 id=folderimagesfolder_config_32png-using-makebootable><img src=../../images/folder_config_32.png alt=folder> Using Makebootable</h2>
                        <p><code>makebootable</code> is a low-level Haiku tool to enable x86 MBR (legacy bios) systems to boot from the active Haiku partition.</p>
                        <div class="alert alert-danger">It is extremely likely that you don't need makebootable. Please read this paragraph carefully to determine if you need it.</div>
                        <p>Makebootable is <strong>not</strong> needed when any of these is true:</p>
                        <ul>
                            <li>Haiku’s EFI bootloader is in use</li>
                            <li>dd’ing to an entire disk device and not a partition</li>
                            <li>using Haiku’s Installer program, as it is done automatically</li>
                            <li>using the build system to install directly to a partition from source, as it is done automatically</li>
                        </ul>
                        <p>Makebootable <strong>is</strong> needed when&mldr;</p>
                        <ul>
                            <li>x86 legacy BIOS booting is used</li>
                            <li>dd’ing to a partition</li>
                            <li>manually installing using Tracker</li>
                            <li>installing using BeOS/Zeta’s Installer program</li>
                        </ul>
                        <h3 id=makebootable-usage>Makebootable Usage</h3>
                        <p><code>makebootable</code> should be run against a partition containing Haiku</p>
                        <p><strong>Running from build system</strong></p>
                        <p>Makebootable is included with Haiku. However, it can also be accessed from systems compiling Haiku.</p>
                        <pre class=terminal>jam run "<build>makebootable" /dev/...</pre>
                        <p><strong>Running under Haiku</strong></p>
                        <pre class=terminal>makebootable /dev/disk/...</pre>
                        <h2 id=harddiskimagesharddisk_32png-configuring-grub-boot-manager><img src=../../images/harddisk_32.png alt=harddisk> Configuring GRUB boot manager</h2>
                        <p>GRUB is a common boot manager used on other open-source operating systems. (Including Linux)</p>
                        <h3 id=grub-2-version-196-and-higher>GRUB 2 (version 1.96 and higher)</h3>
                        <p>In the example below we will have the following setup:</p>
                        <ul>
                            <li>hd0 – first hard drive</li>
                            <li>hd0,1 – first partition of first drive (sda1) Ubuntu Linux /</li>
                            <li>hd0,2 – second partition of first drive (sda2) Ubuntu Linux Swap</li>
                            <li>hd0,3 – third partition of first drive (sda3) Haiku partition</li>
                        </ul>
                        <p>Adding Haiku to your <a href=http://www.gnu.org/software/grub/manual/>GRUB 2</a> boot loader is as simple as adding a section to the files used to auto-generate your GRUB 2 menu configuration.</p>
                        <p>If you previously had only one operating system installed on your computer, GRUB 2 may be configured to wait for the Shift key to be pressed while booting, otherwise no boot menu may be displayed at all, since Haiku is not automatically
                            recognized as a bootable operating system. To force GRUB 2 to always display the selection menu, and to add the Haiku entry in such a way that it will not be removed when the GRUB 2 configuration file is regenerated, perform
                            the following steps:</p>
                        <ul>
                            <li>Edit /etc/default/grub and add or uncomment the following option: <code>GRUB_HIDDEN_TIMEOUT=0</code></li>
                            <li>Edit /etc/grub.d/40_custom and add <strong>one of the following two entries</strong>, depending on your system:</li>
                        </ul>
                        <pre><code># for BIOS systems
menuentry &quot;Haiku&quot; {
	set root=(hd0,3);
	chainloader +1
}

# for EFI systems
menuentry &quot;Haiku&quot; {
	load_video
	insmod part_msdos
	insmod chain
	search --fs-uuid --set=root &lt;EFIBOOT partition UUID&gt;
	chainloader ($root)/EFI/BOOT/BOOTX64.EFI
}
</code></pre>
                        <p>Of course, the partition in the entries needs to point to the one where you actually installed Haiku. On Linux you can get the <code>UUID</code> values of all the partitions and disks in use by using the <code>sudo blkid</code>                            and <code>sudo fdisk -l</code> commands.</p>
                        <div class="alert alert-info">The EFI entry above assumes you've created the `EFIBOOT` partition and put the boot loader inside it as explained <a href=https://www.haiku-os.org/guides/uefi_booting>in the official guide</a>. If you didn't, you need to check
                            the path of the `chainloader` directive and fix accordingly.</div>
                        <div class="alert alert-info">The EFI entry above assumes that your disk is partitioned using the intel/mbr partitioning system. For systems using GPT partitioning, replace the line `insmod part_msdos` with `insmod part_gpt`.</div>
                        <p>On Ubuntu (and other Linux flavors), you can eventually customize the GRUB setup further in a GUI environment using <strong>Grub Customizer</strong> and following this <a href=http://tipsonubuntu.com/2018/03/11/install-grub-customizer-ubuntu-18-04-lts/>getting
                            started tutorial</a>.</p>
                        <p>Finally, you can regenerate the boot menu configuration by issuing <code>sudo update-grub</code> and reboot.</p>
                        <h3 id=grub-legacy-version-097-and-earlier>GRUB Legacy (version 0.97 and earlier)</h3>
                        <p>GRUB Legacy differs in the numbering of the partitions compared to GRUB 2, starting at 0 instead of 1. The example below shows the naming scheme for GRUB Legacy:</p>
                        <ul>
                            <li>hd0 – first hard drive</li>
                            <li>hd0,0 – first partition of first drive (sda1) Ubuntu Linux /</li>
                            <li>hd0,1 – second partition of first drive (sda2) Ubuntu Linux Swap</li>
                            <li>hd0,2 – third partition of first drive (sda3) Haiku partition</li>
                        </ul>
                        <p>Adding Haiku to your <a href=http://www.gnu.org/software/grub/grub-legacy.en.html>GRUB Legacy</a> boot loader is as simple as adding a new section to your GRUB menu configuration. After installing Haiku, you will need to boot into
                            your Linux operating system and add the following block of code to your /boot/grub/menu.lst (your mileage may vary, this is the default location however).</p>
                        <pre><code># for Haiku
title Haiku
root (hd0,2)
chainloader +1
</code></pre>
                        <h3 id=adding-haiku-to-the-windows-bootloader-using-easybcd>Adding Haiku to the Windows bootloader using EasyBCD</h3>
                        <ul>
                            <li>First get EasyBCD from <a href=https://neosmart.net/EasyBCD/>this site</a>
                            </li>
                            <li>Install it as you would install any windows software</li>
                            <li>When you launch it you&rsquo;ll see 2 panels</li>
                            <li>On the left panel click on &ldquo;Add new entry&rdquo;</li>
                        </ul>
                        <p><img src=../../files/guides/booting/AddNewEntry.png alt></p>
                        <ul>
                            <li>On the right panel click on the &ldquo;Linux/BSD&rdquo; tab</li>
                            <li>Leave the &ldquo;Type&rdquo; section as GRUB (leagcy)</li>
                            <li>In the &ldquo;Name&rdquo; section type Haiku</li>
                            <li>In the &ldquo;Drive&rdquo; section choose your haiku partition which will have the &ldquo;0xEB&rdquo; ID in its string, if you have multiple haiku partitions, you would have to figure out which one by its size.</li>
                            <li>Click on the &ldquo;Add entry&rdquo; button</li>
                        </ul>
                        <p><img src=../../files/guides/booting/EditHaikuEntry.png alt></p>
                        <ul>
                            <li>On the left panel you have the &ldquo;edit boot menu&rdquo; option</li>
                        </ul>
                        <p><img src=../../files/guides/booting/MakeDefaultEntrySaveSettings.png alt></p>
                        <ul>
                            <li>
                                <p>Click on it and in the right panel you&rsquo;ll see the list of your OS&rsquo;s You can make one of them the default by checking its checkbox</p>
                            </li>
                            <li>
                                <p>Below you have the timer radio button, either check the &ldquo;wait for user selection&rdquo; one, so that the bootloader will wait until you make a choice and hit enter, or choose the amount of seconds the bootloader should
                                    wait before launching the default OS.</p>
                            </li>
                        </ul>
                    </p>
                </div>
            </div>
        </div>
        <footer>
            <div style=float:right><a href=https://www.netlify.com><img src=https://www.netlify.com/img/global/badges/netlify-dark.svg alt="Deploys by Netlify"></a></div>
            <p>&copy; 2001-2021 Haiku, Inc. &mdash; Haiku&reg; and the HAIKU logo&reg; are registered trademarks of <a href=https://www.haiku-inc.org target=_blank>Haiku, Inc.</a></p>
            <p class=last><a href=../../index.xml>Main feed</a> |
                <a href=../../blog/index.xml>Blog-O-Sphere feed</a> |
                <a href=../../community/organization/policies/>Community policies</a> |
                <a href=https://twitter.com/haikuOS>Twitter</a> |
                <a href=https://mastodon.xyz/@haiku>Mastodon</a> |
                <a href=https://www.linkedin.com/company/haiku-inc->LinkedIn</a></p>
        </footer>
    </div>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel=stylesheet>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet>
    <script src=../../js/navbar.js></script>
    <!-- Fathom -->
    <script>
        (function(f, a, t, h, o, m) {
            a[h] = a[h] || function() {
                (a[h].q = a[h].q || []).push(arguments)
            };
            o = f.createElement('script'),
                m = f.getElementsByTagName('script')[0];
            o.async = 1;
            o.src = t;
            o.id = 'fathom-script';
            m.parentNode.insertBefore(o, m)
        })(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
        fathom('trackPageview');
    </script>
    <!-- / Fathom -->
</body>

</html>