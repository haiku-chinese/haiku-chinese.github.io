<!doctype html><html lang=en>
<!-- Mirrored from www.haiku-os.org/guides/virtualizing/virtualbox-windows-debugging by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Aug 2021 01:36:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content><meta name=copyright content="2001-2021 Haiku Inc."><meta property="og:site_name" content="Haiku Project"><meta property="og:title" content="VirtualBox Serial Debugging on Windows"><meta property="og:url" content="virtualbox-windows-debugging/index.html"><meta property="og:type" content="website"><meta property="og:image" content="../../images/haiku_600x315.png"><title>VirtualBox Serial Debugging on Windows | Haiku Project</title><link rel=canonical href=virtualbox-windows-debugging/index.html><link rel="shortcut icon" href=../../favicon.ico><link href=../../css/bootstrap.min.css rel=stylesheet><link href=../../css/bootstrap4_fixes.css rel=stylesheet><link href=../../css/shijin4.css rel=stylesheet></head><body><div id=page><a href=../../index.html><img src=../../images/haiku_logo_white.svg alt=Home id=logo height=100 style=padding-left:3px></a><div id=top-links><a href=../../get-haiku/r1beta3/index.html title="Get Haiku!" class=toggleopacity><img src=../../images/download_32.png text="get haiku!" alt=Download></a>
<a href=../../contact.html title="Contact the Haiku Project" class=toggleopacity><img src=../../images/App_Mail_32.png text="contact the haiku project" alt=Contact></a>
<a href=../../community/donating_to_haiku title="Make a donation to the Haiku Project" class=toggleopacity><img src=../../images/App_Finance_32.png alt=Donate text="make a donation to the haiku project"></a>
<a href=https://dev.haiku-os.org/ title="Report bugs" class=toggleopacity><img src=../../images/bug_tracker_32.png alt="Report Bugs" text="report bugs related to haiku"></a>
<a href=https://depot.haiku-os.org/ title="Download apps for Haiku from HaikuDepot" class=toggleopacity><img src=../../images/installer_32.png alt=HaikuDepot text="download apps for haiku from haikudepot"></a></div><nav class="navbar navbar-expand-sm navbar-light bg-light"><button class="navbar-toggler collapsed" id=navbar-toggler type=button data-toggle=collapse data-target=#navbar-collapseme aria-controls=navbar-collapseme aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar-collapseme><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=../../about/index.html>About</a></li><li class=nav-item><a class=nav-link href=../../community/index.html>Community</a></li><li class=nav-item><a class=nav-link href=../../development/index.html>Development</a></li><li class=nav-item><a class=nav-link href=../../documents/index.html>Documents</a></li></ul><form class=form-inline role=search action=https://duckduckgo.com/><input type=hidden name=sites value=https://www.haiku-os.org><div class=input-group><input type=text class=form-control placeholder=Search name=q>
<span class=input-group-append><button type=submit class="btn btn-outline-secondary">&#x1f50d;</button></span></div></form></div></nav><div class=row id=main-front><div class=col-sm-12><ol class=breadcrumb><li class=breadcrumb-item><a href=../../index.html>Home</a></li><li class=breadcrumb-item><a href=../index.html>Haiku Guides</a></li><li class=breadcrumb-item><a href=index.html>Virtualizing Haiku</a></li><li class=breadcrumb-item><a href=virtualbox-windows-debugging/index.html>VirtualBox Serial Debugging on Windows</a></li></ol></div><div class=col-md-12><div class=node><h1 class=title>VirtualBox Serial Debugging on Windows</h1><p><p>This tutorial uses VirtualBox version 4.2.6. You can set <em>Port Mode</em> as either <em>Host Pipe Mode</em> or <em>Raw File Mode</em> when serial debugging with VirtualBox.</p><p>With <em>Raw File Mode</em>, you can easily and quickly save the debugged onto a .txt file whereas it might be rather difficult for to check out the content of debugging real time. When it comes to <em>Host Pipe Mode</em>, it&rsquo;s a little more complicated than the <em>Raw File Mode</em>, but you can confirm what is being debugged real time. The results made by the two modes differ little from each other, so we recommend you employ a relatively simpler way: <em>Raw File Mode</em>.</p><h3>Serial Debugging using a Raw File</h3>1. Run VirtualBox. Select your haiku image then click settings.
Select Serial ports. Tick the tickbox "Enable Serial port". Change <em>Port Mode</em> to "Raw File".<p>Then set the name and directory of the file to be saved in <em>File Path</em>.<br><img style=padding:12px src=../../../sites.google.com/site/nyhusr/Home/haiku-os-files/haikuarticles/virtualbox-windows-debugging/image1.png><br>And click start (virtual machine) or double click your Haiku image.</p><ol start=2><li>Once you open the file on the designated path, you can make sure it has been debugged.</li></ol><h3>Serial Debugging using Host pipe</h3><h4>HyperTerminal and VMWareGateway Method</h4><ol><li><p>First of all, you need vmwaregateway.exe (you can find that <a href=http://l4ka.sourceforge.net/download/vmwaregateway.exe>here</a>) Move the downloaded file to the directory you want.</p></li><li><p>Start Command Prompt by pressing <span class=button>Win</span>+<span class=button>R</span> and enter &ldquo;cmd&rdquo;. Then drag and drop vmwaregateway.exe onto cmd with the mouse. Then add &ldquo;/t&rdquo; before pushing the <span class=button>Enter</span> button on your keyboard.</p></li></ol><pre class=terminal>C:\Documents and Settings\me>"C:\where\vmware\gateway\is\vmwaregateway.exe" /t

test mode - press <span class=button>Ctrl</span>+<span class=button>c</span> to stop program</pre><ol start=3><li>Run HyperTerminal. If your OS is Windows XP, you can find it here: Start>Programs>Accessories>Communications>HyperTerminal</li></ol><p>However if you are running Windows vista, Windows 7, and Windows 8, then sadly HyperTerminal is not included as a bundled application like XP had. These later versions of windows do have software we can use, but it is not at all user friendly, rather you should just download HyperTerminal from <a href=http://digitizor.com/2009/08/29/install-winxp-hyperterminal-client-on-windows-vista-or-windows-7-free/>here</a> and follow the directions given. If you run HyperTerminal, it will ask you to create a new connection, pick a name and icon. Click <span class=button>OK</span>.</p><p>After it will ask you what you are connecting with, change it to &ldquo;<em>TCP/IP(winsock)</em>&rdquo;
Change the host address to &ldquo;localhost&rdquo; and change the port number to &ldquo;<em>567</em>&rdquo;, click <span class=button>OK</span> again.<br><img style=padding:12px src=../../../sites.google.com/site/nyhusr/Home/haiku-os-files/haikuarticles/virtualbox-windows-debugging/image2.png><br>If it can&rsquo;t connect, vmwaregateway.exe isn&rsquo;t running in Command Prompt properly.</p><p>Command Prompt should now read:</p><pre class=terminal>C:\Documents and Settings\me>

C:\Documents and Settings\me>"C:\where\vmware\gateway\is\vmwaregateway.exe" /t

test mode - press <span class=button>Ctrl</span>+<span class=button>c</span> to stop program incoming telnet request accepted</pre><ol start=4><li>Run Virtualbox. Select your Haiku image then click settings.
Select <strong>Serial ports</strong>. Tick the tickbox &ldquo;<em>Enable Serial port</em>&rdquo; and for <strong>Port Number</strong> tick &ldquo;<em>COM1</em>&rdquo;(Because Haiku by default writes debug information to the COM1 port)</li></ol><p>Change Port mode to &ldquo;<em>host pipe</em>&rdquo; and change the port path to: \.\pipe\vmwaredebug and click <span class=button>OK</span><br><img style=padding:12px src=../../../sites.google.com/site/nyhusr/Home/haiku-os-files/haikuarticles/virtualbox-windows-debugging/image3.png><br>When you start your VM, it will now be debugging onto HyperTerminal.<br><img style=padding:12px width=660 src=../../../sites.google.com/site/nyhusr/Home/haiku-os-files/haikuarticles/virtualbox-windows-debugging/image4.png><br></p><h4>PuTTY Method</h4><p>A simpler way is to use PuTTY Telnet, which can read VirtualBox&rsquo;s fake serial port pipe directly without the need for vmwaregateway.exe. You can get Putty from the author&rsquo;s site at <a href=http://www.chiark.greenend.org.uk/~sgtatham/putty/>http://www.chiark.greenend.org.uk/~sgtatham/putty/</a></p><p><br><img style=padding:12px src=../../files/PuttySerialPipeSettings.png alt="[PuTTY Settings for displaying a Pipe as a Serial Port]"><br></p><p>The trick is to use Serial mode, and replace the COM1 with \.\pipe\vmwaredebug or whatever you called the pipe in the VirtualBox serial settings.  There are additional serial settings near the end of the preferences where you can set the baud rate to 115200, turn off handshaking and use 8N1 bits.</p><p>Then fire up VirtualBox, and once it is running your VM, the pipe will exist and you can start up PuTTY.</p><h3>Configure Haiku</h3><p>If you are to control the output port and speed, you should do it with Haiku.</p><p>Run Haiku on VirtualBox
Open the file /boot/home/config/settings/kernel/drivers/kernel.</p><ol><li>To revise Output Port,</li></ol><pre class=terminal>#serial_debug_port num</pre><p>Turn &ldquo;num&rdquo; into any figure you want. Default setting is 0 (COM1).</p><ol start=2><li>To change Transmission speed,</li></ol><pre class=terminal>#serial_debug_speed values</pre><p>Change values. Values available are &lt;9600|19200|38400|57600|115200> with the default being 115200.
Turn &ldquo;num&rdquo; into any figure you want. Default setting is 0 (COM1).</p></p></div></div></div><footer><div style=float:right><a href=https://www.netlify.com/><img src=https://www.netlify.com/img/global/badges/netlify-dark.svg alt="Deploys by Netlify"></a></div><p>&copy; 2001-2021 Haiku, Inc. &mdash; Haiku&reg; and the HAIKU logo&reg; are registered trademarks of <a href=https://www.haiku-inc.org/ target=_blank>Haiku, Inc.</a></p><p class=last><a href=../../index.xml>Main feed</a> |
<a href=../../blog/index.xml>Blog-O-Sphere feed</a> |
<a href=../../community/organization/policies/index.html>Community policies</a> |
<a href=https://twitter.com/haikuOS>Twitter</a> |
<a href=https://mastodon.xyz/@haiku>Mastodon</a> |
<a href=https://www.linkedin.com/company/haiku-inc->LinkedIn</a></p></footer></div><link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet><script src=../../js/navbar.js></script><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, '../../../metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body>
<!-- Mirrored from www.haiku-os.org/guides/virtualizing/virtualbox-windows-debugging by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Aug 2021 01:37:38 GMT -->
</html>