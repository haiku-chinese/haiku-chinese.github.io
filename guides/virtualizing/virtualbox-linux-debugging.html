<!doctype html><html lang=en>
<!-- Mirrored from www.haiku-os.org/guides/virtualizing/virtualbox-linux-debugging by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Aug 2021 01:35:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content><meta name=copyright content="2001-2021 Haiku Inc."><meta property="og:site_name" content="Haiku Project"><meta property="og:title" content="VirtualBox Serial Debugging on Linux"><meta property="og:url" content="virtualbox-linux-debugging/index.html"><meta property="og:type" content="website"><meta property="og:image" content="../../images/haiku_600x315.png"><title>VirtualBox Serial Debugging on Linux | Haiku Project</title><link rel=canonical href=virtualbox-linux-debugging/index.html><link rel="shortcut icon" href=../../favicon.ico><link href=../../css/bootstrap.min.css rel=stylesheet><link href=../../css/bootstrap4_fixes.css rel=stylesheet><link href=../../css/shijin4.css rel=stylesheet></head><body><div id=page><a href=../../index.html><img src=../../images/haiku_logo_white.svg alt=Home id=logo height=100 style=padding-left:3px></a><div id=top-links><a href=../../get-haiku/r1beta3/index.html title="Get Haiku!" class=toggleopacity><img src=../../images/download_32.png text="get haiku!" alt=Download></a>
<a href=../../contact.html title="Contact the Haiku Project" class=toggleopacity><img src=../../images/App_Mail_32.png text="contact the haiku project" alt=Contact></a>
<a href=../../community/donating_to_haiku title="Make a donation to the Haiku Project" class=toggleopacity><img src=../../images/App_Finance_32.png alt=Donate text="make a donation to the haiku project"></a>
<a href=https://dev.haiku-os.org/ title="Report bugs" class=toggleopacity><img src=../../images/bug_tracker_32.png alt="Report Bugs" text="report bugs related to haiku"></a>
<a href=https://depot.haiku-os.org/ title="Download apps for Haiku from HaikuDepot" class=toggleopacity><img src=../../images/installer_32.png alt=HaikuDepot text="download apps for haiku from haikudepot"></a></div><nav class="navbar navbar-expand-sm navbar-light bg-light"><button class="navbar-toggler collapsed" id=navbar-toggler type=button data-toggle=collapse data-target=#navbar-collapseme aria-controls=navbar-collapseme aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar-collapseme><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=../../about/index.html>About</a></li><li class=nav-item><a class=nav-link href=../../community/index.html>Community</a></li><li class=nav-item><a class=nav-link href=../../development/index.html>Development</a></li><li class=nav-item><a class=nav-link href=../../documents/index.html>Documents</a></li></ul><form class=form-inline role=search action=https://duckduckgo.com/><input type=hidden name=sites value=https://www.haiku-os.org><div class=input-group><input type=text class=form-control placeholder=Search name=q>
<span class=input-group-append><button type=submit class="btn btn-outline-secondary">&#x1f50d;</button></span></div></form></div></nav><div class=row id=main-front><div class=col-sm-12><ol class=breadcrumb><li class=breadcrumb-item><a href=../../index.html>Home</a></li><li class=breadcrumb-item><a href=../index.html>Haiku Guides</a></li><li class=breadcrumb-item><a href=index.html>Virtualizing Haiku</a></li><li class=breadcrumb-item><a href=virtualbox-linux-debugging/index.html>VirtualBox Serial Debugging on Linux</a></li></ol></div><div class=col-md-12><div class=node><h1 class=title>VirtualBox Serial Debugging on Linux</h1><p><p>This tutorial describes using a feature of VirtualBox that writes the output of a serial port into a file on the host machine. Because Haiku, by default, writes debug information to the COM1 port, you can use it to quickly extract stacktraces to text files, for example.</p><p>This tutorial is based on following tools:</p><ul><li>Debian Wheezy</li><li>VirtualBox 4.1.18</li><li>Haiku R1A4.1</li></ul><p>It should also work on platforms other than Linux.</p><p><img alt=Result width=660 src=../../../sites.google.com/site/nyhusr/Home/haiku-os-files/haikuarticles/virtualbox-linux-debugging/image1.png></p><h3 id=part_vm>Step 1: Configure the virtual machine</h3>First, we will create a serial port in VirtualBox and redirect its output to file:<ol><li>Open machine settings.</li><li>Go to the <em>Serial Ports</em> tab.</li><li>Check <em>Enable Serial Port</em>.</li><li>Under <em>Port Number</em>, chose a port and remember the one you pick.</li><li>In the <em>Port Mode</em> menu, choose the <em>Raw File</em> option.</li><li>In the <em>Port/File Path</em> field, enter the output file path.</li><li>Click OK.</li></ol><div class="alert alert-info">There is also the possibility to redirect output to a physical port:<ul><li>Choose the <em>Host Device</em> option in the <em>Port Mode</em> menu</li><li>Change <em>Port/File Path</em> values to port file path (for example <em>/dev/ttyS0</em> on Linux, <em>COM1</em> on Windows).</li></ul></div><p><img alt="Configuration example" width=660 src=../../../sites.google.com/site/nyhusr/Home/haiku-os-files/haikuarticles/virtualbox-linux-debugging/image2.png></p><h3 id=part_haiku>Step 2: Configure Haiku</h3>This step allows you to adjust output port and speed. If you have chosen COM1 as your virtual port and you don't want to change the default speed (115200 bps), there is no need to do anything.<ol><li>Launch Haiku VM.</li><li>Open the <em>/boot/home/config/settings/kernel/drivers/kernel</em> file.</li></ol>However, if your virtual port is something else, change the desired output port in this line:
From<pre>#serial_debug_port 1</pre>to<pre>serial_debug_port number</pre><p>&ldquo;<em>number</em>&rdquo; is the serial port number minus 1 (COM2 = 1).</p><p>You can also adapt the transmission speed:
Change the line:</p><pre>#serial_debug_speed 57600</pre><p>to</p><pre>serial_debug_speed speed</pre><p>Possible &ldquo;<em>speed</em>&rdquo; values are: 9600, 19200, 38400, 57600, 115200.</p><h3 id=part_finish>The End</h3><div class="alert alert-warning">Don't forget to delete or move the output file! VirtualBox won't do it automatically and it can grow to immense sizes.</div></p></div></div></div><footer><div style=float:right><a href=https://www.netlify.com/><img src=https://www.netlify.com/img/global/badges/netlify-dark.svg alt="Deploys by Netlify"></a></div><p>&copy; 2001-2021 Haiku, Inc. &mdash; Haiku&reg; and the HAIKU logo&reg; are registered trademarks of <a href=https://www.haiku-inc.org/ target=_blank>Haiku, Inc.</a></p><p class=last><a href=../../index.xml>Main feed</a> |
<a href=../../blog/index.xml>Blog-O-Sphere feed</a> |
<a href=../../community/organization/policies/index.html>Community policies</a> |
<a href=https://twitter.com/haikuOS>Twitter</a> |
<a href=https://mastodon.xyz/@haiku>Mastodon</a> |
<a href=https://www.linkedin.com/company/haiku-inc->LinkedIn</a></p></footer></div><link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet><script src=../../js/navbar.js></script><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, '../../../metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body>
<!-- Mirrored from www.haiku-os.org/guides/virtualizing/virtualbox-linux-debugging by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Aug 2021 01:36:12 GMT -->
</html>