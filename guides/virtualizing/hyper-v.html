<!doctype html><html lang=en>
<!-- Mirrored from www.haiku-os.org/guides/virtualizing/hyper-v by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Aug 2021 01:37:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content><meta name=copyright content="2001-2021 Haiku Inc."><meta property="og:site_name" content="Haiku Project"><meta property="og:title" content="Virtualizing Haiku in Hyper-V"><meta property="og:url" content="hyper-v/index.html"><meta property="og:type" content="website"><meta property="og:image" content="../../images/haiku_600x315.png"><title>Virtualizing Haiku in Hyper-V | Haiku Project</title><link rel=canonical href=hyper-v/index.html><link rel="shortcut icon" href=../../favicon.ico><link href=../../css/bootstrap.min.css rel=stylesheet><link href=../../css/bootstrap4_fixes.css rel=stylesheet><link href=../../css/shijin4.css rel=stylesheet></head><body><div id=page><a href=../../index.html><img src=../../images/haiku_logo_white.svg alt=Home id=logo height=100 style=padding-left:3px></a><div id=top-links><a href=../../get-haiku/r1beta3/index.html title="Get Haiku!" class=toggleopacity><img src=../../images/download_32.png text="get haiku!" alt=Download></a>
<a href=../../contact.html title="Contact the Haiku Project" class=toggleopacity><img src=../../images/App_Mail_32.png text="contact the haiku project" alt=Contact></a>
<a href=../../community/donating_to_haiku title="Make a donation to the Haiku Project" class=toggleopacity><img src=../../images/App_Finance_32.png alt=Donate text="make a donation to the haiku project"></a>
<a href=https://dev.haiku-os.org/ title="Report bugs" class=toggleopacity><img src=../../images/bug_tracker_32.png alt="Report Bugs" text="report bugs related to haiku"></a>
<a href=https://depot.haiku-os.org/ title="Download apps for Haiku from HaikuDepot" class=toggleopacity><img src=../../images/installer_32.png alt=HaikuDepot text="download apps for haiku from haikudepot"></a></div><nav class="navbar navbar-expand-sm navbar-light bg-light"><button class="navbar-toggler collapsed" id=navbar-toggler type=button data-toggle=collapse data-target=#navbar-collapseme aria-controls=navbar-collapseme aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar-collapseme><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=../../about/index.html>About</a></li><li class=nav-item><a class=nav-link href=../../community/index.html>Community</a></li><li class=nav-item><a class=nav-link href=../../development/index.html>Development</a></li><li class=nav-item><a class=nav-link href=../../documents/index.html>Documents</a></li></ul><form class=form-inline role=search action=https://duckduckgo.com/><input type=hidden name=sites value=https://www.haiku-os.org><div class=input-group><input type=text class=form-control placeholder=Search name=q>
<span class=input-group-append><button type=submit class="btn btn-outline-secondary">&#x1f50d;</button></span></div></form></div></nav><div class=row id=main-front><div class=col-sm-12><ol class=breadcrumb><li class=breadcrumb-item><a href=../../index.html>Home</a></li><li class=breadcrumb-item><a href=../index.html>Haiku Guides</a></li><li class=breadcrumb-item><a href=index.html>Virtualizing Haiku</a></li><li class=breadcrumb-item><a href=hyper-v/index.html>Virtualizing Haiku in Hyper-V</a></li></ol></div><div class=col-md-12><div class=node><h1 class=title>Virtualizing Haiku in Hyper-V</h1><p><p>For Google Code-In 2017, Arnav Bhatt created a <a href=http://haiku-files.org/files/media/GCI-2017_Hyper-V_Arnav-Bhatt.mp4>video on how to install Haiku in Hyper-V</a> [11 MiB].</p><p>There are two methods for installing Haiku: RAW images and Anyboot images. RAW images consist of a pre-installed environment, whereby the Virtual Hard Disk is of a fixed size. By using a RAW image, you do not need to go through the installation process.
The Anyboot images, on the other hand, can be burnt to a CD-RW or DVD-RW, or even a USB drive but they can also be used in Hyper-V, to create a virtual CD-ROM that can be used to install Haiku onto a virtual Hard Disk or even to just boot into Haiku directly. Whilst Anyboot images can be used to boot directly into Haiku, any changes that you make to the Anyboot drives will be reverted as soon as you shutdown/restart. That is why you will need to install the Haiku image to a (virtual) hard drive using the installer program bundled with the Anyboot image.
This guide will show you how to get Haiku running in Microsoft’s Hyper-V using the Anyboot images.</p><h3 id=step-one-enable-hyper-v-and-download-a-haiku-image>Step One: Enable Hyper-V and download a Haiku image</h3><h5 id=part-a-enabling-hyper-v>Part A: Enabling Hyper-V</h5><p>Since Hyper-V can be found bundled with any edition of Windows Pro of version 8 or later (this also applies to the Windows Server equivalents), it does not need any extra downloads.
To enable Hyper-V, press <span class=button>WIN</span>
+ <span class=button>R</span>
to open the &ldquo;Run&rdquo; window. Then type &ldquo;OptionalFeatures&rdquo; and press <span class=button>Enter</span>
.
The &ldquo;Windows Features&rdquo; window should now be visible. Tick the &ldquo;Hyper-V&rdquo; checkbox and click &ldquo;Ok&rdquo; to install Hyper-V. This may require you to restart your computer.</p><h5 id=part-b-downloading-a-haiku-image>Part B: Downloading a Haiku image</h5><p>The required image files can be found on the &ldquo;Get Haiku&rdquo; page of the Haiku website, which is located <a href=../../get-haiku/r1beta3/index.html>here</a>.
It is recommended that you use the nightly images for now, as the Alpha 4 images were released over 5 years ago at the time of writing (December 2017), which means that they does not contain any of the new features and fixes that Haiku has gained since then.
The architecture that we will be using is x86_gcc2, as virtualising the x64 architecture is not covered by this guide. You can find the x86_gcc2 images <a href=https://download.haiku-os.org/nightly-images/x86_gcc2_hybrid/>here</a>.</p><h3 id=step-two-configuration-wizard>Step Two: Configuration Wizard</h3><p>Run the Hyper-V Manager, which can be done by going to Action > New > Virtual Machine.
The configuration wizard that will help you set-up Haiku in Hyper-V. To begin, click &ldquo;Next&rdquo;.</p><p>This next window is the &ldquo;Specify Name and Location&rdquo; window. Here you will need to add the name of your virtual machine (try &ldquo;HaikuVM&rdquo;) and specify where your virtual machine will be stored.</p><p>If you are running this using Windows 10 or Windows Server 2016, then please follow the step below.</p><h5 id=windows-10-configuration>Windows 10 configuration:</h5><p>If you are running Windows 10 or Windows Server 2016, there is an additional step that you must perform (shown in picture 2-1-1). When you click the &ldquo;Next&rdquo; button, you are prompted to select the machine&rsquo;s generation.
Always select &ldquo;Generation 1&rdquo; for Haiku.</p><p><img src=../../files/guides/virtualizing/Hyper-V/ChooseGeneration1.jpg alt></p><p><em>Picture 2-1-1</em></p><p>Click &ldquo;Next&rdquo; to go to the Assign Memory window. You need to tell Hyper-V how much memory it can use with this virtual machine, as otherwise the Virtual Machine might consume all the memory of your actual machine.
A general rule is to use half of your total RAM e.g. if you have 8GB of RAM, give the Virtual Machine 4GB.
You can also check the &ldquo;Use Dynamic Memory&rdquo; checkbox, which will allow Hyper-V to use more memory when it needs to (see picture 2-1).</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/AssignMemory.png alt></p><p><em>Picture 2-1</em></p><p>Click &ldquo;Next&rdquo; again to go to the &ldquo;Configure Networking&rdquo; screen, however as Haiku does not yet work with Hyper-V’s default network adapter, just leave it as it is and click &ldquo;Next&rdquo;, we will come back to it later.</p><p>On the following screen you are asked to create a virtual hard disk or attach to an existing virtual hard disk. We will create a virtual hard disk, so give it the name &ldquo;Haiku.vhdx&rdquo;.
The virtual hard disk size can run with 1GB hard drive but it will need something over 5GB in order do the things you want.
You are also asked give location of where the virtual hard disk will be kept; give it lots of room (see picture 2-2)! When you are finished click &ldquo;Next&rdquo; again to go the following screen, here you are asked to specify where your installation media is.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/CreateVHD.png alt></p><p><em>Picture 2-2</em></p><p>Choose &ldquo;Install an operating system from a boot CD/ROM&rdquo; and then select Image file. Now click browse and select the Haiku image that you downloaded previously (see picture 2-3). We are now finished with the wizard so click &ldquo;Finish&rdquo;.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/AssignISO.png alt></p><p><em>Picture 2-3</em></p><h3 id=step-three-installing-haiku>Step Three: Installing Haiku</h3><p>Now that we have created the virtual machine, we need to start the virtual machine and install Haiku. On the main screen, double click the virtual machine we just created, which should be located in the column Virtual Machines.
Now on the window that pops up click Action > Start. This will start the virtual machine and the installation will begin. You should see a screen like picture 3-1.</p><p>To free your mouse from virtual machine, press the key combination <span class=button>Ctrl</span>
+<span class=button>Alt</span>
+<span class=button>→</span>
.</p><p>During the installation, there are three steps that you need to complete:</p><ol><li><a href=#step-one-choosing-your-language>Choose your language</a></li><li><a href=#step-two-set-up-your-partitions>Set-up your partitions</a></li><li><a href=#step-three-install_haiku>Install Haiku</a></li></ol><h5 id=step-one-choosing-your-language>Step One: Choosing your language</h5><p>As you can see in picture 3-1, the first screen that you should encounter when booting the ISO is the language-select screen.
You should select your language from the list to the left, we will assume English to be your default for this guide. After that, select your keyboard mapping from the &ldquo;Keymap&rdquo; dropdown.
This is important because your keyboard may be typing the wrong keys if Haiku does not know what format it uses.</p><p>After selecting your display language and keyboard layout, click the &ldquo;Run Installer&rdquo; button to continue.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/StartScreen.jpg alt></p><p><em>Picture 3-1</em></p><h5 id=step-two-set-up-your-partitions>Step Two: Set-up your partitions</h5><p>After clicking the &ldquo;Run Installer&rdquo; button, you should see a screen like the one shown in picture 3-2. This is just a message warning you that Haiku is alpha-quality software, which may crash and break at times.
After reading the text on the new screen (or not reading it), click the &ldquo;Continue&rdquo; button to carry on with the installation.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/InstallDisclaimer.jpg alt></p><p><em>Picture 3-2</em></p><p>When you first run the installer, you will see a message claiming that no suitable partitions have been found. Just dismiss the pop-up by clicking the &ldquo;Ok&rdquo; button.
You should now see an image that looks similar to picture 3-3. Select the &ldquo;Set up partitions&mldr;&rdquo; button to open &ldquo;DriveSetup&rdquo;, which should look like picture 3-4.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/InstallMain.jpg alt></p><p><em>Picture 3-3</em></p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/InstallDriveSetup.jpg alt></p><p><em>Picture 3-4</em></p><p>Click on the volume that has the name &ldquo;Virtual HD&rdquo;. This will be our OS volume but first we need to format it.
To format the volume, click on the &ldquo;Disk&rdquo; menu in the top-left corner of the window, hover over the &ldquo;Initialize&rdquo; section and select the &ldquo;Intel Partition Map&mldr;&rdquo; option.
A warning message will appear, telling you that you will lose all the data on that disk, which is ok since there is no data on the disk currently.
Click the &ldquo;Continue&rdquo; button to proceed with the partitioning. Another warning will appear as well, just click the &ldquo;Write changes&rdquo; button to dismiss it.
The disk should now be ready for formatting. Just click the &ldquo;Ok&rdquo; button to dismiss the success pop-up and we can start to create partitions.</p><p>At this stage, the &ldquo;DriveSetup&rdquo; window should now look like Picture 3-4.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/DriveSetupInitialised.jpg alt></p><p><em>Picture 3-4</em></p><p>Select the partition named &ldquo;&lt;empty>&rdquo; and right-click on it. Then, click the &ldquo;Create&rdquo; button. This will create a partition in that space.
Set it to fill the entire drive and tick the &ldquo;Active partition&rdquo; checkbox.
You should now be seeing a window that looks similar to picture 3-5. Then, just click the &ldquo;Create&rdquo; button and press the &ldquo;Write changes&rdquo; button again.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/DriveSetupCreatePartition.jpg alt></p><p><em>Picture 3-5</em></p><p>There is one final step before the file system is ready: formatting our partition. To do this, right-click on the partition that we just created, now called &ldquo;(Be File System)".
Then, hover over the &ldquo;Format&rdquo; option and click the &ldquo;Be File System&mldr;&rdquo; item. Once again, click &ldquo;Continue&rdquo;.
You should now see a box asking for a name to give the partition (seen in picture 3-6). Call it &ldquo;Haiku&rdquo; (the default) and click &ldquo;Initialize&rdquo; and &ldquo;Write changes&rdquo;.
Once this is done, click &ldquo;Ok&rdquo; and you now have a working file system.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/DriveSetupFormat.jpg alt></p><p><em>Picture 3-6</em></p><h5 id=step-three-install-haiku>Step Three: Install Haiku</h5><p>Close the &ldquo;DriveSetup&rdquo; program by clicking on the box in its top-left corner to return to the main setup menu (as seen in picture 3-3).
This time, click the &ldquo;Onto&rdquo; drop-down and select the partition we just made (the one called &ldquo;Haiku&rdquo; that is not greyed out).
Once that is done, just click &ldquo;Begin&rdquo;. The setup will then install Haiku onto the partition you just made.</p><p>Once the setup is completed, just click &ldquo;Restart&rdquo; and you will be in your very own Haiku installation.</p><h3 id=additional-steps>Additional Steps</h3><h5 id=step-one-networking>Step One: Networking</h5><p>Firstly, we need to create a network connection, so that we can have network access from our Haiku Virtual Machine:</p><ol><li><p>Go to Action > Virtual Switch Manager, choose external and click Create Virtual Switch.</p></li><li><p>Open up Control Panel > Network and Internet > Network Connections. You will find that you now have “Ethernet” and “vEthernet (Your Switch Name)” connections.</p></li><li><p>Right click on “Ethernet” and click “Properties”. Under the Networking Tab select all items in the “This connection uses the following items” and then click “OK” (see picture 4-1).</p></li></ol><p>Windows will give you a warning about items being disabled (such as IPv4, etc.).
Click “Yes” to the dialog that appears (see picture 4-2). At this point you will see the “vEthernet” connection switch to the “Identifying&mldr;” state, so just wait a few moments until you are connected to your local network again.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/ConfigureVirtualSwitch.png alt></p><p><em>Picture 4-1</em></p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/ConfigureAdapter.png alt></p><p><em>Picture 4-2</em></p><p>Now, open the settings window of your Haiku Virtual Machine by right-clicking on its name and selecting the &ldquo;Settings&mldr;&rdquo; option. Then, click on the &ldquo;Network Adapter&rdquo; icon and click the &ldquo;Remove&rdquo; button (see picture 4-3). Press &ldquo;Apply&rdquo; to save your changes.</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/RemoveInternetAdapter.jpg alt></p><p><em>Picture 4-3</em></p><p>Haiku does not currently work with the default type of network adapter on Hyper-V, so the adapter must be changed. Click on the &ldquo;Add Hardware&rdquo; section, add a &ldquo;Legacy Network Adapter&rdquo; and click &ldquo;Apply&rdquo; (see picture 4-4).</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/AddLegacyAdapter.jpg alt></p><p><em>Picture 4-4</em></p><p>Go to the settings of the virtual machine in Hardware > Legacy Network Adapter > Virtual Switch, choose your connection and click &ldquo;Apply&rdquo; (see picture 4-5).</p><p><img src=https://www.haiku-os.org/files/guides/virtualizing/Hyper-V/ApplyCorrectAdapter.jpg alt></p><p><em>Picture 4-5</em></p></p></div></div></div><footer><div style=float:right><a href=https://www.netlify.com/><img src=https://www.netlify.com/img/global/badges/netlify-dark.svg alt="Deploys by Netlify"></a></div><p>&copy; 2001-2021 Haiku, Inc. &mdash; Haiku&reg; and the HAIKU logo&reg; are registered trademarks of <a href=https://www.haiku-inc.org/ target=_blank>Haiku, Inc.</a></p><p class=last><a href=https://www.haiku-os.org/index.xml>Main feed</a> |
<a href=https://www.haiku-os.org/blog/index.xml>Blog-O-Sphere feed</a> |
<a href=https://www.haiku-os.org/community/organization/policies/>Community policies</a> |
<a href=https://twitter.com/haikuOS>Twitter</a> |
<a href=https://mastodon.xyz/@haiku>Mastodon</a> |
<a href=https://www.linkedin.com/company/haiku-inc->LinkedIn</a></p></footer></div><link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet><script src=https://www.haiku-os.org/js/navbar.js></script><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body>
<!-- Mirrored from www.haiku-os.org/guides/virtualizing/hyper-v by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Aug 2021 01:37:57 GMT -->
</html>